<div class="module-setting">
    <ol class="breadcrumb fn-clearfix">
        <li>网站维护</li>
        <li>添加新币</li>
    </ol>
    <div class="ui-box">
        <form class="form-horizontal" role="form">

            <div class="form-group">
                <label for="assetCode" class="col-sm-2 control-label">币种代码</label>
                <div class="col-sm-3">
                    <input type="text" class="form-control" maxlength="10" ng-model="vm.form.assetCode"
                        placeholder="请输入新增币种代码" id="assetCode" />
                </div>
                <div class="col-sm-7">
                    <span class="description">必填，如ACT、BTC、LTC，且不区分大小写，数据库均存储大写</span>
                </div>
            </div>
            <div class="form-group">
                <label for="name" class="col-sm-2 control-label">币种名称</label>
                <div class="col-sm-3">
                    <input type="text" maxlength="50" class="form-control" ng-model="vm.form.name" placeholder="请输入币种名称"
                        id="name" />
                </div>
                <div class="col-sm-7">
                    <span class="description">必填，如Achain、比特币、莱特币</span>
                </div>
            </div>
            <div class="form-group">
                <label for="modelKey" class="col-sm-2 control-label">选择模型</label>
                <div class="col-sm-3">
                    <select class="form-control" ng-model="vm.form.modelKey">
                        <option value="AVAILABLE_MODEL_KEY">可用模型</option>
                        <option value="LOCKING_AVAILABLE_MODEL_KEY">限制可用模型</option>
                    </select>
                </div>
                <div class="col-sm-7">
                    <span class="description">请选择可用模型或限制可用模型</span>
                </div>
            </div>
            <div class="form-group">
                <input class="form-control" style="display: none;" type="text" id="txt">
                <label for="chainList" class="col-sm-2 control-label">支持公链</label>
                <div class="col-sm-4 chain-group">
                        <li ng-repeat="item in vm.allChainList">
                            <input type='checkbox' ng-click='vm.Choose(item)'/>
                            <span>{{item.name}}</span>
                            </label>
                        </li>   
                </div>
                <div class="col-sm-6">
                    <span class="description">可选择支持公链,一个币种可支持多个公链充提(可多选)</span>
                </div>
            </div>
            <div class="form-group" ng-if="vm.form.modelKey=='AVAILABLE_MODEL_KEY'">
                <label for="availableParameter" class="col-sm-2 control-label">充值可用比例</label>
                <div class="col-sm-3">
                    <input type="number" min="0" class="form-control" ng-model="vm.form.availableParameter"
                        placeholder="请输入充值可用比例" id="availableParameter" />%
                </div>
                <div class="col-sm-7">
                    <span class="description">请输入充值可用比例(0-100)</span>
                </div>
            </div>
            <div class="form-group" ng-if="vm.form.modelKey=='AVAILABLE_MODEL_KEY'">
                <label for="miningPoolParameter" class="col-sm-2 control-label">充值矿池比例</label>
                <div class="col-sm-3 textSty">
                    {{(100-vm.form.availableParameter).toFixed(2)}}%
                    <!-- <input type="text"
                           maxlength="50"
                           disabled
                       class="form-control"
                       ng-model="vm.form.miningPoolParameter"
                       placeholder="由充值可用比例自动计算获得"
                       id="miningPoolParameter"
                    /> -->
                </div>
                <div class="col-sm-7">
                    <span class="description">充值矿池比例由充值可用比例自动计算获得</span>
                </div>
            </div>
            <div class="form-group">
                <label for="staticFreedRate" class="col-sm-2 control-label">静态释放比例</label>
                <div class="col-sm-3">
                    <input type="text" maxlength="50" class="form-control" ng-model="vm.form.staticFreedRate"
                        placeholder="请输入静态释放比例" id="staticFreedRate" />%
                </div>
                <div class="col-sm-7">
                    <span class="description">必填，输入静态释放比例</span>
                </div>
            </div>
            <div class="form-group">
                <label for="staticFreedUpperLimit" class="col-sm-2 control-label">静态释放上限</label>
                <div class="col-sm-3">
                    <input type="text" maxlength="50" class="form-control" ng-model="vm.form.staticFreedUpperLimit"
                        placeholder="请输入静态释放上限" id="staticFreedUpperLimit" />%
                </div>
                <div class="col-sm-7">
                    <span class="description">必填</span>
                </div>
            </div>
            <div class="form-group">
                <label for="dynamicDirectPush" class="col-sm-2 control-label">动态比例（直推）</label>
                <div class="col-sm-3">
                    <input type="text" maxlength="50" class="form-control" ng-model="vm.form.dynamicDirectPush"
                        placeholder="请输入动态比例（直推）" id="dynamicDirectPush" />%
                </div>
                <div class="col-sm-7">
                    <span class="description">必填</span>
                </div>
            </div>
            <!-- <div class="form-group">
                <label for="dynamicNormalUser" class="col-sm-2 control-label">动态比例（普通用户）</label>
                <div class="col-sm-3">
                    <input type="text"
                           maxlength="50"
                       class="form-control"
                       ng-model="vm.form.dynamicNormalUser"
                       placeholder="请输入动态比例（普通用户）"
                       id="dynamicNormalUser"
                    />%
                </div>
                <div class="col-sm-7">
                    <span class="description">必填</span>
                </div>
            </div> -->
            <div class="form-group">
                <label for="dynamicPartner" class="col-sm-2 control-label">动态比例（合伙人)</label>
                <div class="col-sm-3">
                    <input type="text" maxlength="50" class="form-control" ng-model="vm.form.dynamicPartner"
                        placeholder="请输入动态比例（合伙人)" id="dynamicPartner" />%
                </div>
                <div class="col-sm-7">
                    <span class="description">必填</span>
                </div>
            </div>
            <div class="form-group">
                <label for="dynamicSuperNode" class="col-sm-2 control-label">动态比例（超级节点）</label>
                <div class="col-sm-3">
                    <input type="text" maxlength="50" class="form-control" ng-model="vm.form.dynamicSuperNode"
                        placeholder="请输入动态比例（超级节点）" id="dynamicSuperNode" />%
                </div>
                <div class="col-sm-7">
                    <span class="description">必填</span>
                </div>
            </div>
            <div class="form-group">
                <label for="description" class="col-sm-2 control-label">币种描述</label>
                <div class="col-sm-3">
                    <textarea name="" class="form-control" style="width: 100%" ng-model="vm.form.description"
                        maxlength="256" placeholder="请输入币种描述，256个字符以内" id="description" rows="10"></textarea>
                </div>
                <div class="col-sm-2">
                    <span class="description">选填</span>
                </div>
            </div>

            <div class="form-group">
                <label for="webUrl" class="col-sm-2 control-label">币种官网</label>
                <div class="col-sm-3">
                    <input type="text" class="form-control" ng-model="vm.form.webUrl" maxlength="256"
                        placeholder="请输入币种官网" id="webUrl" />
                </div>
                <div class="col-sm-2">
                    <span class="description">选填</span>
                </div>
            </div>

            <div class="form-group">
                <label for="webUrl" class="col-sm-2 control-label">币种图标</label>
                <div class="out-border col-sm-3">
                    <input type="file" class="fileLabel file-img" ngf-select="vm.uploadFile($file, $invalidFiles)"
                        ng-model="vm.name" name="{{vm.name}}" ngf-max-size="4MB" ngf-accept="'image/*'" />
                    <img class="sck" ng-src="{{imgs.lock}}" alt="">
                    <img class="sck" ng-src="{{vm.name}}" alt="">
                </div>
                <div class="col-sm-2">
                    <span class="description" style="margin-left: 20px;">需要正方形,大小4M以内</span>
                </div>
            </div>
            <div class="form-group">
                <label for="webUrl" class="col-sm-2 control-label">&nbsp;</label>
                <div class="col-sm-3">
                    <button type="submit" class="btn btn-primary" ng-click="vm.submit()">添加</button>
                </div>
            </div>


        </form>
    </div>

</div>


<script>
    // 受支持公链选择
    // var data = ['ERC20', 'TRC20', 'BEP20', 'Heco', 'ONG'];
    // var objArr = [];
    // let currentList = []
    // for (var i = 0; i < data.length; i++) {
    //     var obj = new Object();
    //     obj.id = i;
    //     obj.value = data[i];
    //     objArr.push(obj);
    // }
    // $(function () {
    //     //加载多选框的数据
    //     var ul = $("#ul");
    //     for (var i = 0; i < objArr.length; i++) {
    //         ul.append("<li><div class='checkbox'></div><label><input type='checkbox' value=" + objArr[i].id + " onclick='Choose(this)'/>" + objArr[i].value + "</label></li>");
    //     }
    // });

    // Array.prototype.remove = function (val) {
    //     var index = this.indexOf(val);
    //     if (index > -1) {
    //         this.splice(index, 1);
    //     }
    // };

    // //勾选某一个操作
    // function Choose(t) {
    //     let val = $(t).parent().text()
    //     if (currentList.indexOf(val) == -1) {
    //         currentList.push(val)
    //     } else {
    //         currentList.remove(val)
    //     }
    //     console.log('currentList', currentList)
    //     $("#txt").val(currentList);
    // }
</script>
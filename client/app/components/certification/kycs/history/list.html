<div class="all-balance-list history-table">
    <div class="panel panel-warning">
        <div class="panel-body">
            <form class="form-inline ui-form" role="form">
                <div class="form-group ui-input-select">
                    <input type="text" class="form-control" ng-model="vm.keyWordVal" placeholder="按类别搜索信息">
                    <select class="form-control" ng-model="vm.keyWord">
                        <option value="idCard">身份证</option>
                        <option value="uid">UID</option>
                        <!-- <option value="uid">证件号</option> -->
                    </select>
                    <button type="submit" class="btn btn-primary" ng-click="vm.fetchList()">查询</button>
                </div>
            </form>
        </div>
    </div>
    <table class="table table-striped table-hover table-bordered">
        <thead>
            <tr>
                <th width="6.5%">提交审核时间</th>
                <th width="3%">用户UID</th>
                <th width="8%">身份证</th>
                <th width="6.5%">完成时间</th>
                <th width="10%">拒绝原因</th>
                <th width="10%">拒绝理由</th>
                <th width="3%">审核状态</th>
                <th width="4%">是否生效</th>
                <th width="5%">操作</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="item in vm.list" ng-if="vm.isLoading === false && vm.list.length > 0">
                <td>{{$root.moment(item.applyTime).utc().utcOffset($root.ZONE).format('YYYY-MM-DD HH:mm:ss')}}</td>
                <td>{{item.uid}}</td>
                <td>{{item.cardNo}}</td>
                <td>{{item.auditTime == item.applyTime ? '' :
                    $root.moment(item.auditTime).utc().utcOffset($root.ZONE).format('YYYY-MM-DD HH:mm:ss')}}</td>
                <td>{{item.messageId == '0' ? '' : vm.textReturn(item.messageId)}}</td>
                <td>{{item.message}}</td>
                <td ng-class="{redtradedetail:item.auditStatus == 'FAIL',
                greentradedetail:item.auditStatus == 'OK',
                bluetradedetail:item.auditStatus == 'INIT'
                  }">
                    {{item.auditStatus == "FAIL" ? '审核拒绝' : item.auditStatus == "OK" ? '审核通过' : '正在审核'}}
                </td>
                <td ng-class="{redtradedetail:item.delFlag == 'TRUE',
                greentradedetail:item.delFlag == 'FALSE',
                  }">
                    {{item.delFlag == 'FALSE' ? '有效' : '失效'}}
                </td>
                <td>
                    <a ng-if="item.delFlag== 'FALSE' && item.auditStatus == 'FAIL'" href="javascript:;" ng-click="vm.setDelFlag(item.id)">标记为失效</a>
                </td>
            </tr>
            <tr class="ui-no-data" ng-if="vm.isLoading === false && (!vm.list||vm.list.length === 0)">
                <td colspan="9">暂无数据</td>
            </tr>
            <tr class="ui-loading" ng-if="vm.isLoading === true">
                <td colspan="9">正在加载，请稍候...</td>
            </tr>
        </tbody>
    </table>
</div>
<div class="module-trade">
    <ol class="breadcrumb fn-clearfix">
        <li>VDS活动管理</li>
    </ol>
    <div class="panel panel-warning">
        <div class="panel-body">
            <form class="form-inline ui-form" role="form">
                <div class="form-group">
                    <button type="submit" style="width: 100%" class="btn btn-primary"
                        ng-click="vm.setrewardCaptain()">队长搭建节点预奖励</button>
                </div>
                <div class="form-group">
                    <button type="submit" style="width: 100%" class="btn btn-primary"
                        ng-click="vm.rewardCaptain()">队长搭建节点奖励</button>
                </div>
            </form>
        </div>
    </div>
    <div class="ui-box">
        <table class="table table-striped table-hover table-bordered">
            <thead>
                <tr>
                    <th>节点ID</th>
                    <th>节点名称</th>
                    <th>节点队长</th>
                    <th>节点创建人</th>
                    <th>节点参与数量</th>
                    <th>节点状态</th>
                    <th>节点当日收益</th>
                    <th>更新时间</th>
                    <th width="20%">操作</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="item in vm.list" ng-if="vm.isLoading === false && vm.list.length > 0">
                    <td>{{item.id}}</td>
                    <td>{{item.nodeName}}</td>
                    <td>{{item.remark}}</td>
                    <td>{{item.createUid}}</td>
                    <td>{{item.currentInvestNum}} / 10000</td>
                    <td ng-class="{
                        graytradedetail:item.nodeStatus=='INIT',
                        greentradedetail:item.nodeStatus=='ESTABLISHING',
                        redtradedetail:item.nodeStatus=='OVER',
                        orangetradedetail:item.nodeStatus=='PROCESSING'}">
                        {{vm.statusFun(item.nodeStatus)}}
                    </td>
                    <td>{{item.nodeProfit}}</td>
                    <td>{{item.createTime}}
                    </td>
                    <td>
                        <a ng-if="item.nodeStatus == 'ESTABLISHING'" href="javascript:;"
                            ng-click="vm.setNodeType('status',item)">启动节点挖矿</a>
                        <a ng-if="item.nodeStatus == 'PROCESSING'" href="javascript:;"
                            ng-click="vm.setNodeType('profit',item)">设置收益</a>&emsp;&emsp;
                        <a ng-if="item.nodeStatus == 'PROCESSING'" href="javascript:;"
                            ng-click="vm.setManage('predict',item)">预分配收益</a>&emsp;&emsp;
                        <a ng-if="item.nodeStatus == 'PROCESSING'" href="javascript:;"
                            ng-click="vm.setManage('allot',item)">分配收益</a>&emsp;&emsp;
                        <a ng-if="item.nodeStatus == 'PROCESSING'" href="javascript:;"
                            ng-click="vm.nodeClose(item)">关闭节点</a>
                    </td>
                </tr>
                <tr class="ui-no-data" ng-if="vm.isLoading === false && (vm.list.length === 0||vm.list===null)">
                    <td colspan="13">暂无数据</td>
                </tr>
                <tr class="ui-loading" ng-if="vm.isLoading === true">
                    <td colspan="13">正在加载，请稍候...</td>
                </tr>
            </tbody>
        </table>

        <div class="ui-pager-box" ng-if="vm.totalNum > 0">
            <ul uib-pagination previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"
                total-items="vm.totalNum" ng-model="vm.pageNo" max-size="5" items-per-page="vm.pageSize || 10"
                align="right" class="pagination" boundary-links="true" ng-change="vm.pageChanged()" rotate="false"></ul>
        </div>
    </div>
</div>
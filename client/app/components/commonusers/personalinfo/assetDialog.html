<div class="module-pass-dialog">
    <form class="form-horizontal">
        <div class="modal-header">
            <h4>资产来源（{{vm.item.assetCode}}）</h4>
        </div>
        <div class="modal-body personalinfo-body">
            <div class="row">
                <button class="btn btn-default" ng-class="{'btn-primary': vm.type == 'deposi'}"
                    ng-click="vm.setType('deposi')">充值记录</button>
                <button class="btn btn-default" ng-class="{'btn-primary': vm.type == 'withdraw'}"
                    ng-click="vm.setType('withdraw')">提现记录</button>
                <button class="btn btn-default" ng-class="{'btn-primary': vm.type == 'c2cBuy'}"
                    ng-click="vm.setType('c2cBuy')">C2C买入</button>
                <button class="btn btn-default" ng-class="{'btn-primary': vm.type == 'c2cSell'}"
                    ng-click="vm.setType('c2cSell')">C2C卖出</button>
                <button class="btn btn-default" ng-class="{'btn-primary': vm.type == 'companylist'}"
                    ng-click="vm.setType('companylist')">券商信息</button>
            </div>
        </div>
        <div class="ui-box" style="max-height: 300px; overflow: auto;">

            <select ng-if="vm.type == 'c2cBuy' || vm.type == 'c2cSell'" class="form-control"
                style="width: 150px; margin-bottom:15px" ng-model="vm.coin" ng-change="vm.c2cList()" id="symbol-type">
                <option value="UDC">UDC</option>
                <option value="USDT">USDT</option>
            </select>

            <table class="table table-striped table-hover table-bordered"
                ng-if="vm.type == 'deposi' || vm.type == 'withdraw'">
                <thead>
                    <tr>
                        <th width="25%">提交时间</th>
                        <th width="47%">钱包地址</th>
                        <th width="12%">数量</th>
                        <th width="8%">状态</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in vm.list" ng-if="vm.isLoadings === false && vm.list.length > 0">
                        <td>{{$root.moment(item.createDate).utc().utcOffset($root.ZONE).format('YYYY-MM-DD HH:mm:ss')}}
                        </td>
                        <td>{{item.address}}</td>
                        <td>{{item.amount}}</td>
                        <td ng-class="{
                            orangetradedetail:(item.status=='WAITING'|| item.status=='PROCESSING'),
                            greentradedetail:(item.status=='SUCCESS'),
                            purpletradedetail:(item.status=='FAILURE'),
                            redtradedetail:(item.status=='REFUSE'),
                            graytradedetail:(item.status=='CANCEL')}">
                            {{item.status | gopInStatus}}
                        </td>
                    </tr>
                    <tr class="ui-no-data" ng-if="vm.isLoadings === false && (vm.list.length === 0||vm.list===null)">
                        <td colspan="7">暂无数据</td>
                    </tr>
                    <tr class="ui-loading" ng-if="vm.isLoadings === true">
                        <td colspan="7">正在加载，请稍候...</td>
                    </tr>
                </tbody>
            </table>

            <table class="table table-striped table-hover table-bordered"
                ng-if="vm.type == 'c2cBuy' || vm.type == 'c2cSell'">
                <thead>
                    <tr>
                        <th>订单完成时间</th>
                        <th>交易币种</th>
                        <th>成交数量</th>
                        <th>成交价格</th>
                        <th>成交金额</th>
                        <th>锁定金额</th>
                        <th>手续费</th>
                        <th>买方</th>
                        <th>卖方</th>
                        <th>所属区域</th>
                        <th>订单状态</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in vm.list" ng-if="vm.isLoadings === false && vm.list.length > 0">
                        <td>{{$root.moment(item.updateDate - 0).utc().utcOffset($root.ZONE).format('YYYY-MM-DD HH:mm:ss')}}
                        </td>
                        <td>{{item.assetCode}}</td>
                        <td>{{item.number}}</td>
                        <td>{{item.tradePrice}}</td>
                        <td>{{item.money}}</td>
                        <td>{{item.lockNum}}</td>
                        <td>{{item.fee}}</td>
                        <td>{{item.buyUid}}</td>
                        <td>{{item.sellUid}}</td>
                        <td>{{item.c2cTransOrderType == 'SELL' ? '售卖区' : '收购区'}}</td>
                        <td ng-class="{
                            graytradedetail:(item.status=='CANCELED'|| item.status=='CLOSED'  || item.status == 'OVERTIME'),
                            greentradedetail:(item.status=='FINISHED' || item.status=='PAID'),
                            redtradedetail:(item.status=='COMPLAINNING'),
                            orangetradedetail:(item.status=='UNPAY')}">
                            {{vm.statusFun(item.status)}}
                        </td>
                    </tr>
                    <tr class="ui-no-data" ng-if="vm.isLoadings === false && (vm.list.length === 0||vm.list===null)">
                        <td colspan="13">暂无数据</td>
                    </tr>
                    <tr class="ui-loading" ng-if="vm.isLoadings === true">
                        <td colspan="13">正在加载，请稍候...</td>
                    </tr>
                </tbody>
            </table>

            <table class="table table-striped table-hover table-bordered" ng-if="vm.type == 'companylist'">
                <thead>
                    <tr>
                        <th>时间</th>
                        <th>资产类型</th>
                        <th>资产来源</th>
                        <th>金额</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in vm.list" ng-if="vm.isLoadings === false && vm.list.length > 0">
                        <td>{{$root.moment(item.createDate).utc().utcOffset($root.ZONE).format('YYYY-MM-DD HH:mm:ss')}}
                        </td>
                        <td>{{item.assetCode}}</td>
                        <td>
                            {{item.source == 'BROKER' ? '券商账户' : item.source == 'INNER' ? '内部转账' :item.source == 'OUTER' ? '外部转账':'未知来源'}}
                        </td>
                        <td class="red-color" ng-show="item.amount>0">+{{item.amount}}</td>
                        <td class="green-color" ng-show="item.amount<0">-{{-item.amount}}</td>
                    </tr>
                    <tr class="ui-no-data" ng-if="vm.isLoadings === false && (vm.list.length === 0||vm.list===null)">
                        <td colspan="7">暂无数据</td>
                    </tr>
                    <tr class="ui-loading" ng-if="vm.isLoadings === true">
                        <td colspan="7">正在加载，请稍候...</td>
                    </tr>
                </tbody>
            </table>

            <div class="ui-pager-box" ng-if="vm.totalNum > 0">
                <ul uib-pagination previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"
                    total-items="vm.totalNum" ng-model="vm.pageNo" max-size="3" items-per-page="vm.pageSize || 10"
                    align="right" class="pagination" boundary-links="true" ng-change="vm.pageChanged()" rotate="false">
                </ul>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" ng-click="$$cancel()">确定</button>
        </div>
    </form>
</div>
<div class="module-notice module-notice-list">
    <ol class="breadcrumb">
        <li>运营系统</li>
        <li>公告发布</li>
    </ol>

    <div class="panel panel-warning">
        <!--<div class="panel-heading">-->
        <!--<h3 class="panel-title">操作</h3>-->
        <!--</div>-->
        <div class="panel-body">
            <a href="#/notice/add" class="btn btn-warning">添加</a>
            <div class="serach">
                <div class="form-group" style="margin-top:30px;width: 100px;margin-bottom: 0;margin-right:15px">
                    <label for="exampleInputEmail3">公告类型</label>
                    <select class="form-control" ng-model="vm.type">
                        <option value="NEWS">资讯</option>
                        <option value="NOTICE">公告</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary" ng-click="vm.fetchList()">查询</button>
            </div>
        </div>
    </div>

    <div class="ui-box">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th width="10%">ID</th>
                    <!--<th width="15%">发布时间</th>-->
                    <th width="15%">公告时间</th>
                    <th width="30%">公告标题</th>
                    <th width="10%">公告类型</th>
                    <th width="25%">公告封面</th>
                    <th width="20%">操作</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="item in vm.list" ng-if="vm.isLoading === false && vm.list.length > 0">
                    <td>{{item.id}}</td>
                    <td>{{$root.moment(item.createTime).utc().utcOffset($root.ZONE).format('YYYY-MM-DD HH:mm:ss')}}</td>
                    <!--<td>{{item.noticeTime}}</td>-->
                    <td>{{item.title}}</td>
                    <td ng-if="item.msgType=='NEWS'">资讯</td>
                    <td ng-if="item.msgType=='NOTICE'">公告</td>
                    <td>
                        <img style="max-width: 50px;" class="imgTag" ng-src="/notice/{{item.imageTag}}" alt="">
                    </td>
                    <td>
                        <a href="javascript:;" class="link" ng-click="vm.remove(item.id)">删除</a>
                        <a href="javascript:;" class="link" ng-click="vm.toTop(item.id)"
                            ng-if="item.topStatus !== vm.config.STATUS_TOP.KEY">置顶</a>
                        <a href="javascript:;" class="link" ng-click="vm.cancelTop(item.id)"
                            ng-if="item.topStatus === vm.config.STATUS_TOP.KEY">取消置顶</a>
                    </td>
                </tr>
                <tr class="ui-no-data" ng-if="vm.isLoading === false && (vm.list.length === 0||vm.list===null)">
                    <td colspan="4">暂无数据</td>
                </tr>
                <tr class="ui-loading" ng-if="vm.isLoading === true">
                    <td colspan="4">正在加载，请稍候...</td>
                </tr>
            </tbody>
        </table>

        <div class="ui-pager-box" v-if="vm.totalNum > 0">
            <ul uib-pagination previous-text="上一页" next-text="下一页" first-text="首页" last-text="尾页"
                total-items="vm.totalNum" ng-model="vm.condition.pageNo" max-size="5" items-per-page="vm.pageSize || 10"
                align="right" class="pagination" boundary-links="true" ng-change="vm.pageChanged()" rotate="false"></ul>
        </div>
    </div>


</div>